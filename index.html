<!DOCTYPE html>
<html>
<head>
  <title>Date Entry Form</title>
  <meta charset="UTF-8">
  <script src="script.js" defer></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .image-block { border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; }
    img { max-width: 30%; max-height: 250px; display: block; margin-bottom: 10px; }
    input[type="text"] { width: 100%; padding: 6px; margin-bottom: 5px; }
    .warning { color: red; font-size: 0.9em; }
    .day-display { margin-top: 5px; font-style: italic; color: #555; }

    #loading-spinner {
      text-align: center;
      margin: 20px;
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      animation: spin 1s linear infinite;
      margin: auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div id="login-container"></div>

  <div id="form-container" style="display:none;">
    <div id="date-instructions" style="display: none;">
      <h1>Transcribe Patient Visit Dates</h1>
      <p>
        <strong>Instructions: </strong>
        The following images contain patient visit dates in sequential order. The dates 
        follow the order day, month, year. For each image transcribe the date. Give your
        response in the format dd/mm/yyyy, including zeros and adding "20" where necessary.
      </p>
      <p>
          To help interpret hard to read or ambiguous dates, follow these guidelines:
          <ul>
              <li>Patients usually make visits weekly or biweekly, always on the same day of 
              the week, either Tuesday, Friday, or Saturday.</li>
              <li>The years range from 2016 to 2024.</li>
              <li>Dates should be in sequential order. Each date comes after the date before.</li>
              <li>If part of the date is cut off or uninterpretable, enter the part you can see and 
              select "Incomplete/Unreadable." If the image contains no readable numbers, enter "Blank".</li>
          </ul>
      </p>
      <p>
          If one date is unclear, it is okay to extrapolate from the other images. For example, if the 
          year is unreadable in one image you can infer the year from the images before and after. For tough 
          cases, it may be helpful to skip an image and come back to it once you have completed the rest. If 
          a warning appears but you are <em>sure</em> the date is entered correctly, ignore the warning and click submit.
      </p>
    </div>
    <div id="age-instructions" style="display: none;">
      <h1>Transcribe Patient Ages</h1>
      <p>
        <strong>Instructions: </strong>
        The following images contain patient ages at sequential visits. The ages are written in años (years), 
        meses (months), and/or días (days) using the letters "a", "m", and "d" respectively. Enter the age exactly
        as it appears, without spaces, for instance, "2a3m" for 2 years and 3 months or "20d" for 20 days.
      </p>
      <p>
          To help interpret hard to read or ambiguous ages, follow these guidelines:
          <ul>
              <li>The ages are from sequential visits, often one or two weeks apart, so the age
                will usually increase by a few days or weeks. In some cases, a patient might
                not have a visit for months or years, causing a larger jump in age.</li>
              <li>Some images may have the letters "EC" meaning edad coregida (corrected age), 
                which is the age of a child adjusted for prematurity. In these cases, enter "EC" followed by the age.</li>
              <li>If part of the age is cut off or uninterpretable, enter the part you can see and 
              select "Incomplete/Unreadable." If the image contains no readable numbers, enter "Blank".</li>
          </ul>
      </p>
      <p>
          If one age is unclear, it is okay to extrapolate from the other images. For example, you know each age
          must be between the ages before and after it. For tough cases, it may be helpful to skip an image and 
          come back to it once you have completed the rest. If a warning appears but you are <em>sure</em> 
          the age is entered correctly, ignore the warning and click submit.
      </p>
    </div>
    <form id="entry-form">
      <div id="output"></div>
      <div id="summary-message" class="warning" style="margin-top:20px;font-weight:bold;"></div>
        <div id="loading-spinner" style="display: none;">
          <div class="spinner"></div>
        </div>
      <button type="submit">Submit</button>
    </form>
  </div>
</body>
</html>
